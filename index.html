

<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">    
        <title>Meme Studio</title>

        <link rel="stylesheet" href="css/main.css" />
    </head>

    <body onload="onAppInit()" onresize="resizeCanvas()">

        <div class="screen" onclick="closeTopMenuIfOpen()"></div>

        <div class="sticker-modal">
            <div class="sticker-modal-content">
                <div class="sticker-modal-header">
                    <h2>Add Sticker</h2>
                    <span class="modal-close-x" onclick="onCloseStickerModal()">&times;</span>
                </div>
                <div class="sticker-modal-body">
                    <div class="sticker-modal-grid">
                        <div class="sticker-modal-grid-item" onclick="onAddSticker(this, event)" data-sticker="img/stickers/1.png">
                            <img src="img/stickers/1.png" />
                        </div>
                        <div class="sticker-modal-grid-item" onclick="onAddSticker(this, event)" data-sticker="img/stickers/2.png">
                            <img src="img/stickers/2.png" />
                        </div>
                        <div class="sticker-modal-grid-item" onclick="onAddSticker(this, event)" data-sticker="img/stickers/3.png">
                            <img src="img/stickers/3.png" />
                        </div>
                        <div class="sticker-modal-grid-item" onclick="onAddSticker(this, event)" data-sticker="img/stickers/4.png">
                            <img src="img/stickers/4.png" />
                        </div>
                        <div class="sticker-modal-grid-item" onclick="onAddSticker(this, event)" data-sticker="img/stickers/5.png">
                            <img src="img/stickers/5.png" />
                        </div>
                        <div class="sticker-modal-grid-item" onclick="onAddSticker(this, event)" data-sticker="img/stickers/6.png">
                            <img src="img/stickers/6.png" />
                        </div>
                        <div class="sticker-modal-grid-item" onclick="onAddSticker(this, event)" data-sticker="img/stickers/7.png">
                            <img src="img/stickers/7.png" />
                        </div>
                        <div class="sticker-modal-grid-item" onclick="onAddSticker(this, event)" data-sticker="img/stickers/8.png">
                            <img src="img/stickers/8.png" />
                        </div>
                        <div class="sticker-modal-grid-item" onclick="onAddSticker(this, event)" data-sticker="img/stickers/9.png">
                            <img src="img/stickers/9.png" />
                        </div>
                        <div class="sticker-modal-grid-item" onclick="onAddSticker(this, event)" data-sticker="img/stickers/10.png">
                            <img src="img/stickers/10.png" />
                        </div>
                        <div class="sticker-modal-grid-item" onclick="onAddSticker(this, event)" data-sticker="img/stickers/11.png">
                            <img src="img/stickers/11.png" />
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <header class="main-header padded-left-right">      
            <div class="flex space-between">
                
                <div class="logo flex align-center" onclick="moveToGalleryPage()">Meme Studio</div>

                <nav class="main-nav flex align-center">
                    <ul class="top-bar-list flex clean-list flex align-center">
                        <li class="top-bar-active gallery-nav" onclick="moveToGalleryPage()"><a href="#">Gallery</a></li>
                        <li class="editor-nav" onclick="moveToEditorIfYouCan()"><a href="#">Editor</a></li>
                        <li class="saved-memes-nav" onclick="moveToSavedMemesPage()"><a href="#">Memes</a></li>
                        <li class="about-nav"><a href="#">About</a></li>                        
                    </ul>
                    <span class="hamburger" onclick="onToggleMenu()">â˜°</span>
                </nav>
            </div>
        </header>


        <main class = "main-layout">

            <div class = "work-area">



                <div class="page-editor">

                    <div class="controls">

                        <button class="back-btn" onclick="moveToGalleryPage()"> <i class="fa-solid fa-arrow-left"> </i> Back</button>

                        <button class="add-text" onclick="onAddText(event)"> <i class="fa-solid fa-text"> </i> Add Text</button>

                        <button class="add-sticker" onclick="onOpenStickerModal()"> <i class="fa-solid fa-poo"> </i> Add Sticker</button>

                        <button class="clear" onclick="resetCanvas()">Clear</button>

                    </div>

                    <div class="canvas-container">

                        <canvas

                                width="400"
                                height="400"

                                onmouseup="onEvent(event)"
                                onmousedown="onEvent(event)"
                                onmousemove="onEvent(event)"

                                ontouchend="onEvent(event)"
                                ontouchmove="onEvent(event)"
                                ontouchstart="onEvent(event)"

                                >

                        </canvas>

                    </div>

                </div>

                <div class="page-gallery">

                    <div class="gallery-top-bar">
                        <div class="search-bar">
                            <input class="search-bar-input" type="text" placeholder="" oninput="onSearch(event)" />
                        </div>

                        <div class="tags">
                            <button class="tag-btn " onclick="onFilterByTag(this, event)">Funny</button>
                            <button class="tag-btn" onclick="onFilterByTag(this, event)">Meme</button>
                            <button class="tag-btn" onclick="onFilterByTag(this, event)">Cute</button>
                        </div>
                    </div>

                    <div class="scrollable">
                        <section class="gallery-grid-container">
                        </section>
                    </div>
                </div>



                <div class="page-saved-gallery">

                    <div class="saved-gallery-top-bar">

                        <button class="back-btn" onclick="moveToGalleryPage()"> <i class="fa-solid fa-arrow-left"> </i> Back</button>

                    </div>

                    <div class="scrollable">

                        <section class="saved-gallery-grid-container">

                        </section>

                    </div>

                </div>



            </div>

            <div class ="side-bar">

                    <div class="side-page-gallery">

                        <div class ="side-header">
                            <div>Main Menu</div>
                        </div>

                        <button class="btn btn-add" onclick="onUploadButtonClicked()">
                            <div class="button-icon">
                                <svg width="24px" height="20px" viewBox="0 0 24 20">
                                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                        <g transform="translate(-736.000000, -1133.000000)" fill="#FFFFFF">
                                            <g transform="translate(736.000000, 1133.000000)">
                                                <path d="M21.8965758,16.9653135 L21.8965758,2.28467061 L2.07407407,2.28467061 L2.07407407,16.9653135 L21.8965758,16.9653135 Z M23.9706499,17.3072845 C23.9896561,17.360927 24,17.418667 24,17.4788229 L24,18.5258782 C24,18.8094816 23.770094,19.0393876 23.4864906,19.0393876 L0.513509434,19.0393876 C0.229906005,19.0393876 2.35828404e-16,18.8094816 2.01097001e-16,18.5258782 L0,17.4788229 C-3.75676683e-18,17.4481466 0.00268988762,17.4180985 0.00784666393,17.3889017 C0.00268988762,17.3609836 0,17.3322516 0,17.3029188 L0,0.724105965 C-3.47314032e-17,0.440502536 0.229906005,0.210596531 0.513509434,0.210596531 L23.4864906,0.210596531 C23.770094,0.210596531 24,0.440502536 24,0.724105965 L24,1.77116117 C24,1.83131713 23.9896561,1.88905714 23.9706499,1.94269958 L23.9706499,17.3072845 Z" id="Combined-Shape"></path>
                                                <path d="M20.608707,15.3962264 L3.78320483,15.3962264 C3.74083938,15.3962264 3.7064954,15.3618824 3.7064954,15.319517 C3.7064954,15.3019755 3.71250743,15.2849639 3.7235294,15.2713176 L8.31768306,9.58331783 C8.34430285,9.55036 8.39260005,9.545222 8.42555788,9.57184178 C8.42977827,9.57525056 8.43362514,9.57909743 8.43703392,9.58331783 L10.3380665,11.9369772 L14.1770363,6.90660307 C14.2137534,6.85849098 14.2825211,6.84925353 14.3306332,6.88597065 C14.3383996,6.89189767 14.3453386,6.89883664 14.3512656,6.90660307 L20.6958216,15.2201593 C20.7325388,15.2682714 20.7233013,15.337039 20.6751892,15.3737562 C20.6560907,15.3883313 20.6327317,15.3962264 20.608707,15.3962264 Z" id="Combined-Shape"></path>
                                                <circle cx="6.56603774" cy="6.11320755" r="1.58490566"></circle>
                                            </g>
                                        </g>
                                    </g>
                                </svg>
                            </div>

                            <span>Upload New</span>
                        </button>

                        <input type="file" class="imgupload" text="Upload Image" accept="image/*" onChange="onUploadBackground(event)"/>


                        <button class="btn btn-add" onclick="moveToSavedMemesPage()">
                            <div class="button-icon">
                                <svg width="24px" height="20px" viewBox="0 0 24 20">
                                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                        <g transform="translate(-736.000000, -1133.000000)" fill="#FFFFFF">
                                            <g transform="translate(736.000000, 1133.000000)">
                                                <path d="M21.8965758,16.9653135 L21.8965758,2.28467061 L2.07407407,2.28467061 L2.07407407,16.9653135 L21.8965758,16.9653135 Z M23.9706499,17.3072845 C23.9896561,17.360927 24,17.418667 24,17.4788229 L24,18.5258782 C24,18.8094816 23.770094,19.0393876 23.4864906,19.0393876 L0.513509434,19.0393876 C0.229906005,19.0393876 2.35828404e-16,18.8094816 2.01097001e-16,18.5258782 L0,17.4788229 C-3.75676683e-18,17.4481466 0.00268988762,17.4180985 0.00784666393,17.3889017 C0.00268988762,17.3609836 0,17.3322516 0,17.3029188 L0,0.724105965 C-3.47314032e-17,0.440502536 0.229906005,0.210596531 0.513509434,0.210596531 L23.4864906,0.210596531 C23.770094,0.210596531 24,0.440502536 24,0.724105965 L24,1.77116117 C24,1.83131713 23.9896561,1.88905714 23.9706499,1.94269958 L23.9706499,17.3072845 Z" id="Combined-Shape"></path>
                                                <path d="M20.608707,15.3962264 L3.78320483,15.3962264 C3.74083938,15.3962264 3.7064954,15.3618824 3.7064954,15.319517 C3.7064954,15.3019755 3.71250743,15.2849639 3.7235294,15.2713176 L8.31768306,9.58331783 C8.34430285,9.55036 8.39260005,9.545222 8.42555788,9.57184178 C8.42977827,9.57525056 8.43362514,9.57909743 8.43703392,9.58331783 L10.3380665,11.9369772 L14.1770363,6.90660307 C14.2137534,6.85849098 14.2825211,6.84925353 14.3306332,6.88597065 C14.3383996,6.89189767 14.3453386,6.89883664 14.3512656,6.90660307 L20.6958216,15.2201593 C20.7325388,15.2682714 20.7233013,15.337039 20.6751892,15.3737562 C20.6560907,15.3883313 20.6327317,15.3962264 20.608707,15.3962264 Z" id="Combined-Shape"></path>
                                                <circle cx="6.56603774" cy="6.11320755" r="1.58490566"></circle>
                                            </g>
                                        </g>
                                    </g>
                                </svg>
                            </div>

                            <span>Your Memes</span>
                        </button>

                    </div>

                    <div class="side-page-editor">

                        <div class ="side-header">
                            <div>Meme Editor</div>
                        </div>


                        <div class="editable-texts-button-container">
                            <button class="btn btn-add" onclick="onOpenStickerModal()">
                                <div class="button-icon">
    <!--                                <svg width="53px" height="42px" viewBox="0 0 53 42">-->
    <!--                                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">-->
    <!--                                        <g transform="translate(-1128.000000, -219.000000)" fill="white">-->
    <!--                                            <g transform="translate(1094.000000, 195.000000)">-->
    <!--                                                <g>-->
    <!--                                                    <g transform="translate(34.000000, 24.000000)">-->
    <!--                                                        <rect id="Rectangle-23" x="0" y="37" width="53" height="4.58024691" rx="2.268"></rect>-->
    <!--                                                        <path d="M24.8461538,0 L13,30.6043771 L17.8461538,30.6043771 L20.2584615,24.0462963 L33.72,24.0462963 L36.1323077,30.6043771 L40.9784615,30.6043771 L29.1538462,0 L24.8461538,0 L24.8461538,0 Z M21.8738462,19.6742424 L27,5.83669192 L32.1261538,19.6742424 L21.8738462,19.6742424 L21.8738462,19.6742424 Z" id="Shape"></path>-->
    <!--                                                    </g>-->
    <!--                                                </g>-->
    <!--                                            </g>-->
    <!--                                        </g>-->
    <!--                                    </g>-->
    <!--                                </svg>-->
                                    <i class="fa-solid fa-poo"></i>
                                </div>
                                <span>Stickers</span>
                            </button>
                        </div>

                        <div class = "editable-texts">


                            <div class="editable-text" data-text-idx="1" onclick="onClickedEditableText(this, event)" onfocusout="hideAllToolbars()">
                                <input class="editable-text-1" type="text" placeholder="" oninput="onTextChange(event)"/>

                            </div>

                            <div class="editable-text" data-text-idx="2" onclick="onClickedEditableText(this, event)" onfocusout="hideAllToolbars()">
                                <input class="editable-text-2" type="text" placeholder="" oninput="onTextChange(event)" />
                            </div>

                        </div>

                        <div class="editable-texts-button-container">
                            <div class="editable-text-button" onclick="onAddText(event)">
                                <input class="add-new-text" type="text" placeholder="" readonly="readonly" value="Add Text"/>
                            </div>
                        </div>


<!--                        <button class="btn btn-add" onclick="onAddText()">-->
<!--                            <div class="button-icon">-->
<!--                                <svg width="53px" height="42px" viewBox="0 0 53 42">-->
<!--                                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">-->
<!--                                        <g transform="translate(-1128.000000, -219.000000)" fill="white">-->
<!--                                            <g transform="translate(1094.000000, 195.000000)">-->
<!--                                                <g>-->
<!--                                                    <g transform="translate(34.000000, 24.000000)">-->
<!--                                                        <rect id="Rectangle-23" x="0" y="37" width="53" height="4.58024691" rx="2.268"></rect>-->
<!--                                                        <path d="M24.8461538,0 L13,30.6043771 L17.8461538,30.6043771 L20.2584615,24.0462963 L33.72,24.0462963 L36.1323077,30.6043771 L40.9784615,30.6043771 L29.1538462,0 L24.8461538,0 L24.8461538,0 Z M21.8738462,19.6742424 L27,5.83669192 L32.1261538,19.6742424 L21.8738462,19.6742424 L21.8738462,19.6742424 Z" id="Shape"></path>-->
<!--                                                    </g>-->
<!--                                                </g>-->
<!--                                            </g>-->
<!--                                        </g>-->
<!--                                    </g>-->
<!--                                </svg>-->
<!--                            </div>-->
<!--                            <span>Add Text</span>-->
<!--                        </button>-->


                        <div class = "bottom-container">

                            <div class ="side-container">

                                <a class="btn bottom-btn" onclick="onSaveMeme(this, event)">
                                    <span>
                                        Save MEME
                                    </span>
                                    <span>
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="24" height="24" fill="#FFF" fill-rule="evenodd">
                                                <path d="M13 26C5.82 26 0 20.18 0 13S5.82 0 13 0s13 5.82 13 13-5.82 13-13 13zm0-2c6.075 0 11-4.925 11-11S19.075 2 13 2 2 6.925 2 13s4.925 11 11 11z" fill-rule="nonzero"></path>
                                                <path d="M18.684 13.105a.55.55 0 0 1-.148.378l-5.263 5.263a.55.55 0 0 1-.378.148.54.54 0 0 1-.526-.526V15.21H7.842a.54.54 0 0 1-.526-.526v-3.158A.54.54 0 0 1 7.842 11h4.526V7.842a.52.52 0 0 1 .526-.526c.148 0 .28.066.395.164l5.247 5.247a.55.55 0 0 1 .148.378z"></path>
                                            </svg>
                                    </span>
                                </a>

                                <div class = "side-container-inner">

                                    <a class="btn-side" onclick="onShareOnFacebook(this, event)">
                                        <i class="fa facebook"></i>
                                    </a>
                                    <a class="btn-side" onclick="onDownload(this, event)">
                                        <i class="fa download"></i>
                                    </a>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="side-page-saved">

                        <div class ="side-header">
                            <div>Your Memes</div>
                        </div>


                </div>

            </div>

            <div class="context-toolbar">

                <div class="editor-container">
                    <div class="toolbar">
                        <div class="toolbar-group">
                            <select class="toolbar-button font-change-select" onchange="onFontChange(event)">
                                <option value="impact" selected>impact</option>
                                <option value="arial">arial</option>
                                <option value="times new roman">times new roman</option>
                            </select>
                        </div>

                        <div class="toolbar-group">
                            <div class="toolbar-icon fa-solid fa-palette"></div>
                            <input class="color-picker" type="color" id="color-picker" value="#000000" onchange="onColorChange(event)" oninput="onColorChange(event)" />
                        </div>
                        <div class="toolbar-group">
                            <div class="toolbar-icon fa-solid fa-stroke"></div>
                            <input class="color-picker" type="color" id="stroke-color" value="#000000" onchange="onStrokeColorChange(event)" oninput="onStrokeColorChange(event)" />
                            <input type="range" id="stroke-width" class="toolbar-slider" min="0" max="10" value="2" step="1" oninput="onStrokeWidthChange(event)" />
                        </div>
                        <div class="toolbar-group">
                            <button class="toolbar-button" onclick="onFontSizeChange(event)">A-</button>
                            <button class="toolbar-button" onclick="onFontSizeChange(event)">A+</button>
                        </div>
                        <div class="toolbar-group">
                            <button class="toolbar-button" onclick="onBold(event)"><strong>B</strong></button>
                            <button class="toolbar-button" onclick="onItalic(event)"><em>I</em></button>
                            <button class="toolbar-button disabled-btn" disabled><u>U</u></button>
                        </div>
                        <div class="toolbar-group">
                            <button class="toolbar-button" onclick="onRtl(event)"><i class="fa-solid fa-align-left"></i></button>
                            <button class="toolbar-button" onclick="onCenter(event)"><b>â˜°</b></button>
                            <button class="toolbar-button" onclick="onLtr(event)"><i class="fa-solid fa-align-right"></i></button>
                        </div>
                        <div class="toolbar-group">
                            <button class="toolbar-button" onclick="onRemoveText(this, event)"><i class="fa-solid fa-trash"></i></button>
                        </div>
                    </div>
                    <div class="editor-content">
                        <input type = "text"
                               class = "context-toolbar-text-editor-input"
                               placeholder = "one does not simply.."
                               oninput="onTextChange(event)"/>
                    </div>
                </div>
            </div>

            <div class="context-toolbar-x">
                <span class="delete-icon-x fa-solid fa-trash" onclick="onRemoveSticker(this, event)"></span>
            </div>





        </main>




    <script src="js/services/utilService.service.js"></script>
    <script src="js/services/template-picker.service.js"></script>
    <script src="js/services/meme-editor.service.js"></script>
    <script src="js/services/saved-memes.service.js"></script>

    <script src="js/controllers/app.controller.js"></script>
    <script src="js/controllers/template-picker.controller.js"></script>
    <script src="js/controllers/meme-editor.controller.js"></script>

    </body>

</html>

